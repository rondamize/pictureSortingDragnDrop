<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Test task</title>
		<link rel="stylesheet" href="reset.css">
		<link rel="stylesheet" href="style.css">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600" rel="stylesheet">
		<script src="script.js"></script>
	</head>
	<body>
		<div id='container'>Hello world</div>
		<img id="firstPhoto" />
		<script>
			let path = 'https://www.flickr.com/services/rest/?format=json&api_key=a589d60fef250c0f9b3afe3903985a3c&method=flickr.photos.search&per_page=10&text=cat&sort=interestingness-desc';
			let userPromise = fetch(path);
    
			userPromise
			.then(data => data.text())
			// Сделать проверку на ошибки
			.then(data => {
				let stringToCut = 'jsonFlickrApi(';
				let photos = JSON.parse(data.slice(stringToCut.length,data.length-1)).photos.photo;
				console.log(photos);
				for (let i = 0; i < photos.length; i++) {
			        let image = document.createElement('img');
			        let route = 'https://live.staticflickr.com/' + photos[i].server + '/' + photos[i].id + '_' + photos[i].secret + '.jpg';
			        image.setAttribute('src', route);
			        let container = document.getElementById('container');
			        container.appendChild(image);	        
        		}
			});
      
        
        
		</script>
	</body>